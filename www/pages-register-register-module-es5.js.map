{"version":3,"sources":["src/app/pages/register/register.page.html","src/app/pages/register/register-routing.module.ts","src/app/pages/register/register.module.ts","src/app/pages/register/register.page.scss","src/app/pages/register/register.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-content class=\\\"content\\\">\\r\\n  <div class=\\\"padding\\\">\\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n        <ion-back-button defaultHref=\\\"pages/login\\\"></ion-back-button>\\r\\n      </ion-buttons>\\r\\n    <br><br><br><br>\\r\\n    <ion-item >\\r\\n      <ion-label color=\\\"light\\\">{{ 'REGISTER.username.title' | translate }}</ion-label>\\r\\n      <ion-input color=\\\"light\\\" [(ngModel)]=\\\"dataUser.pseudo\\\" type=\\\"text\\\" placeholder=\\\"{{ 'REGISTER.username.placeholder' | translate }}\\\" ></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item >\\r\\n      <ion-label color=\\\"light\\\">{{ 'REGISTER.mail.title' | translate }}</ion-label>\\r\\n      <ion-input color=\\\"light\\\" type=\\\"mail\\\" placeholder=\\\"{{ 'REGISTER.mail.placeholder' | translate }}\\\" [(ngModel)]=\\\"dataUser.email\\\"></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-label color=\\\"light\\\">{{ 'REGISTER.password.title' | translate }}</ion-label>\\r\\n      <ion-input color=\\\"light\\\" type=\\\"password\\\" placeholder=\\\"{{ 'REGISTER.password.placeholder' | translate }}\\\" [(ngModel)]=\\\"dataUser.password\\\"></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-label color=\\\"light\\\">{{ 'REGISTER.cpassword.title' | translate }}</ion-label>\\r\\n      <ion-input color=\\\"light\\\" type=\\\"password\\\" placeholder=\\\"{{ 'REGISTER.cpassword.placeholder' | translate }}\\\" [(ngModel)]=\\\"dataUser.confirmPassword\\\"></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n    <ion-item>\\r\\n      <div>\\r\\n        <ion-checkbox  color=\\\"light\\\" [(ngModel)]=\\\"dataUser.cgu\\\"></ion-checkbox>\\r\\n      </div>\\r\\n      <ion-tab-button  color=\\\"medium\\\" tab=\\\"cgu\\\">{{ 'REGISTER.cgu' | translate }}</ion-tab-button>\\r\\n    </ion-item>\\r\\n    <br>\\r\\n    <ion-button color=\\\"tertiary\\\" expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"signUp()\\\">{{ 'REGISTER.validate' | translate }}</ion-button>\\r\\n    <br><br>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { RegisterPage } from './register.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RegisterPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class RegisterPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RegisterPageRoutingModule } from './register-routing.module';\r\n\r\nimport { RegisterPage } from './register.page';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RegisterPageRoutingModule,\r\n    TranslateModule\r\n  ],\r\n  declarations: [RegisterPage]\r\n})\r\nexport class RegisterPageModule {}\r\n","export default \".padding {\\n  padding: 5% !important;\\n}\\n\\n.logo ion-icon {\\n  font-size: 9em;\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n}\\n\\n.logo img {\\n  height: 100px;\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n}\\n\\n.logo {\\n  position: relative;\\n  height: 250px;\\n}\\n\\nion-content {\\n  --ion-background-color: linear-gradient(#6DD5FA, #2980B9);\\n}\\n\\nion-item {\\n  --ion-background-color: transparent!important;\\n}\\n\\n.flex {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcmVnaXN0ZXIvQzpcXFVzZXJzXFxBR0FSQVVMVFxcRGVza3RvcFxcY29udGVzdDJcXFdvcmxkVmlzaXQvc3JjXFxhcHBcXHBhZ2VzXFxyZWdpc3RlclxccmVnaXN0ZXIucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9yZWdpc3Rlci9yZWdpc3Rlci5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxzQkFBQTtBQ0NKOztBRENBO0VBQ0ksY0FBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxnQ0FBQTtBQ0VKOztBREFBO0VBQ0ksYUFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxnQ0FBQTtBQ0dKOztBRERBO0VBQ0ksa0JBQUE7RUFDQSxhQUFBO0FDSUo7O0FERkE7RUFDSyx5REFBQTtBQ0tMOztBRERBO0VBQ0ksNkNBQUE7QUNJSjs7QURGQTtFQUNJLGFBQUE7RUFDQSw4QkFBQTtBQ0tKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcmVnaXN0ZXIvcmVnaXN0ZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnBhZGRpbmcge1xyXG4gICAgcGFkZGluZzogNSUhaW1wb3J0YW50O1xyXG59XHJcbi5sb2dvIGlvbi1pY29ue1xyXG4gICAgZm9udC1zaXplOiA5ZW07XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDUwJTtcclxuICAgIGxlZnQ6IDUwJTtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xyXG59XHJcbi5sb2dvIGltZ3tcclxuICAgIGhlaWdodDogMTAwcHg7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDUwJTtcclxuICAgIGxlZnQ6IDUwJTtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xyXG59XHJcbi5sb2dvIHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGhlaWdodDogMjUwcHg7XHJcbn1cclxuaW9uLWNvbnRlbnQge1xyXG4gICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6IGxpbmVhci1ncmFkaWVudCgjNkRENUZBLCAjMjk4MEI5KTtcclxuICAgIC8vIC0taW9uLWJhY2tncm91bmQtY29sb3I6IGxpbmVhci1ncmFkaWVudCgjZjVhZjE5LCAjZjEyNzExKTtcclxuICAgIC8vIC0taW9uLWJhY2tncm91bmQtY29sb3I6IGxpbmVhci1ncmFkaWVudCgjNDg1NTYzLCAjMjkzMjNjKTtcclxufVxyXG5pb24taXRlbSB7XHJcbiAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudCFpbXBvcnRhbnQ7XHJcbn1cclxuLmZsZXgge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxufSIsIi5wYWRkaW5nIHtcbiAgcGFkZGluZzogNSUgIWltcG9ydGFudDtcbn1cblxuLmxvZ28gaW9uLWljb24ge1xuICBmb250LXNpemU6IDllbTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDUwJTtcbiAgbGVmdDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbn1cblxuLmxvZ28gaW1nIHtcbiAgaGVpZ2h0OiAxMDBweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDUwJTtcbiAgbGVmdDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbn1cblxuLmxvZ28ge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGhlaWdodDogMjUwcHg7XG59XG5cbmlvbi1jb250ZW50IHtcbiAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogbGluZWFyLWdyYWRpZW50KCM2REQ1RkEsICMyOTgwQjkpO1xufVxuXG5pb24taXRlbSB7XG4gIC0taW9uLWJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50IWltcG9ydGFudDtcbn1cblxuLmZsZXgge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { AngularFireDatabase } from '@angular/fire/database';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport * as firebase from 'firebase/app';\r\nimport { NavController } from '@ionic/angular';\r\nimport {TranslateService} from '@ngx-translate/core';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.page.html',\r\n  styleUrls: ['./register.page.scss'],\r\n})\r\nexport class RegisterPage implements OnInit {\r\n\r\ndataUser = {\r\n      email: '',\r\n      password: '',\r\n      cgu: false,\r\n      pseudo: '',\r\n      confirmPassword: ''\r\n    };\r\n  connected: boolean;\r\n  userId: string;\r\n  mail: string;\r\n  method: any;\r\n  \r\n\r\n  constructor(\r\n    private navCtrl: NavController,\r\n    public afDB: AngularFireDatabase,\r\n    public toastController: ToastController,\r\n    public afAuth: AngularFireAuth,\r\n    private translate: TranslateService\r\n  ) {\r\n    this.afAuth.authState.subscribe(auth => {\r\n      if (!auth) {\r\n        console.log('non connecté');\r\n        this.connected = false;\r\n      } else {\r\n        console.log('connecté: ' + auth.uid);\r\n        this.connected = true;\r\n        this.userId = auth.uid;\r\n        this.mail = auth.email;\r\n        this.method = auth.providerData[0].providerId;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\nsignUp() {\r\nif (this.dataUser.cgu === true && this.dataUser.password === this.dataUser.confirmPassword) {\r\n    if (this.dataUser.email !== null && this.dataUser.password !== null && this.dataUser.pseudo !== null) {\r\n      this.afAuth.auth.createUserWithEmailAndPassword(this.dataUser.email, this.dataUser.password)\r\n          .then(() => {\r\n            console.log('Connexion réussie');\r\n\r\n            this.afAuth.authState.subscribe(auth => {\r\n        const postData = {\r\n          pseudo: this.dataUser.pseudo,\r\n        };\r\n        const updates = {};\r\n        updates['/Users/' + auth.uid ] = postData;\r\n        return firebase.database().ref().update(updates);\r\n});\r\n            this.loginSuccess();\r\n            this.navCtrl.navigateRoot('pages/login');\r\n          }).catch(err => {\r\n        this.loginError();\r\n        console.log('Erreur: ' + err);\r\n      });\r\n    }\r\n  } else {this.loginError(); }\r\n}\r\nasync loginError() {\r\n    const toast = await this.toastController.create({\r\n      message: this.translate.instant(\"TOAST.register.invalid\"),\r\n      position: 'top',\r\n      duration: 2000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  async loginSuccess() {\r\n    const toast = await this.toastController.create({\r\n      message: this.translate.instant(\"TOAST.register.validate\"),\r\n      position: 'top',\r\n      duration: 2000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  async CGUError() {\r\n    const toast = await this.toastController.create({\r\n      message: this.translate.instant(\"TOAST.register.cgu\"),\r\n      position: 'top',\r\n      duration: 2000\r\n    });\r\n    toast.present();\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///","file":"pages-register-register-module-es5.js"}